{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import TaskTable from'../components/TaskTable';import TaskModal from'../components/TaskModal';import CreateTaskModal from'../components/CreateTaskModal';import'../TaskTable.css';import'../index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL='https://fasteasy-jvqis72guq-lm.a.run.app';const testTasks=[{task_name:'Test Task 1',dimension:'1x1',template_id:'template_01',genPerRef:5,gen_type:'type_1',image_layers:['image_1','image_2'],text_layers:['text_1','text_2']},{task_name:'Test Task 2',dimension:'16x9',template_id:'template_02',genPerRef:3,gen_type:'type_2',image_layers:['image_3','image_4'],text_layers:['text_3','text_4']}];const Dashboard=()=>{const[tasks,setTasks]=useState(testTasks);const[selectedTask,setSelectedTask]=useState(null);const[isCreateModalOpen,setIsCreateModalOpen]=useState(false);const handleGenerate=async task=>{try{const response=await axios.post(`${API_BASE_URL}/tz-front/generate_formats`,{task_name:task.task_name,dimension:task.dimension,template_id:task.template_id,amount:task.genPerRef,gen_type:task.gen_type,image_layers:task.image_layers,text_layers:task.text_layers},{auth:{username:'renesandro',password:'qwerty1234'}});console.log('Generated task:',response.data);}catch(error){console.error('Error generating task:',error);}};const handleRowClick=task=>{setSelectedTask(task);};const handleUpdateTask=updatedTask=>{setTasks(prevTasks=>prevTasks.map(task=>task.task_name===updatedTask.task_name?updatedTask:task));};const closeModal=()=>{setSelectedTask(null);};const addNewTask=newTask=>{setTasks(prevTasks=>[...prevTasks,newTask]);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TaskTable,{tasks:tasks,handleGenerate:handleGenerate,handleRowClick:handleRowClick,handleUpdateTask:handleUpdateTask}),selectedTask&&/*#__PURE__*/_jsx(TaskModal,{task:selectedTask,closeModal:closeModal,updateTask:handleUpdateTask}),isCreateModalOpen&&/*#__PURE__*/_jsx(CreateTaskModal,{closeModal:()=>setIsCreateModalOpen(false),addNewTask:addNewTask}),/*#__PURE__*/_jsx(\"button\",{className:\"add-task-button\",onClick:()=>setIsCreateModalOpen(true),children:\"Add New Task\"})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","axios","TaskTable","TaskModal","CreateTaskModal","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","testTasks","task_name","dimension","template_id","genPerRef","gen_type","image_layers","text_layers","Dashboard","tasks","setTasks","selectedTask","setSelectedTask","isCreateModalOpen","setIsCreateModalOpen","handleGenerate","task","response","post","amount","auth","username","password","console","log","data","error","handleRowClick","handleUpdateTask","updatedTask","prevTasks","map","closeModal","addNewTask","newTask","children","updateTask","className","onClick"],"sources":["/Users/mmaksim/test-ex/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport TaskTable from '../components/TaskTable';\nimport TaskModal from '../components/TaskModal';\nimport CreateTaskModal from '../components/CreateTaskModal'; \n\nimport '../TaskTable.css';\nimport '../index.css';\n\nconst API_BASE_URL = 'https://fasteasy-jvqis72guq-lm.a.run.app';\n\nconst testTasks = [\n  {\n    task_name: 'Test Task 1',\n    dimension: '1x1',\n    template_id: 'template_01',\n    genPerRef: 5,\n    gen_type: 'type_1',\n    image_layers: ['image_1', 'image_2'],\n    text_layers: ['text_1', 'text_2'],\n  },\n  {\n    task_name: 'Test Task 2',\n    dimension: '16x9',\n    template_id: 'template_02',\n    genPerRef: 3,\n    gen_type: 'type_2',\n    image_layers: ['image_3', 'image_4'],\n    text_layers: ['text_3', 'text_4'],\n  },\n];\n\nconst Dashboard = () => {\n  const [tasks, setTasks] = useState(testTasks);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n\n  const handleGenerate = async (task) => {\n    try {\n      const response = await axios.post(`${API_BASE_URL}/tz-front/generate_formats`, {\n        task_name: task.task_name,\n        dimension: task.dimension,\n        template_id: task.template_id,\n        amount: task.genPerRef,\n        gen_type: task.gen_type,\n        image_layers: task.image_layers,\n        text_layers: task.text_layers,\n      }, {\n        auth: {\n          username: 'renesandro',\n          password: 'qwerty1234',\n        },\n      });\n      console.log('Generated task:', response.data);\n    } catch (error) {\n      console.error('Error generating task:', error);\n    }\n  };\n\n  const handleRowClick = (task) => {\n    setSelectedTask(task);\n  };\n\n  const handleUpdateTask = (updatedTask) => {\n    setTasks((prevTasks) => prevTasks.map((task) =>\n      task.task_name === updatedTask.task_name ? updatedTask : task\n    ));\n  };\n\n  const closeModal = () => {\n    setSelectedTask(null);\n  };\n\n  const addNewTask = (newTask) => {\n    setTasks((prevTasks) => [...prevTasks, newTask]);\n  };\n\n  return (\n    <div>\n      <TaskTable\n        tasks={tasks}\n        handleGenerate={handleGenerate}\n        handleRowClick={handleRowClick}\n        handleUpdateTask={handleUpdateTask}\n      />\n      {selectedTask && (\n        <TaskModal\n          task={selectedTask}\n          closeModal={closeModal}\n          updateTask={handleUpdateTask}\n        />\n      )}\n      {isCreateModalOpen && (\n        <CreateTaskModal\n          closeModal={() => setIsCreateModalOpen(false)}\n          addNewTask={addNewTask}\n        />\n      )}\n      <button className=\"add-task-button\" onClick={() => setIsCreateModalOpen(true)}>\n        Add New Task\n      </button>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}